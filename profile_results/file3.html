<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252" /><link rel="stylesheet" href="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for FindObjects</title><link rel="stylesheet" href="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">FindObjects (1 call, 98.500 sec)</span><br/><i>Generated 14-Aug-2014 22:43:45 using cpu time.</i><br/>function in file C:\Users\Logan Dunbar\Documents\MATLAB\MastersProject\Code2\FindObjects.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/> No parent <div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line143">143</a></td><td class="td-linebottomrt"><pre>activeTrajInds = [activeTrajIn...</pre></td><td class="td-linebottomrt">342485</td><td class="td-linebottomrt">60.916 s</td><td class="td-linebottomrt" class="td-linebottomrt">61.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=62 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line142">142</a></td><td class="td-linebottomrt"><pre>newInds = bsxfun(@plus, ind, w...</pre></td><td class="td-linebottomrt">342485</td><td class="td-linebottomrt">8.342 s</td><td class="td-linebottomrt" class="td-linebottomrt">8.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line60">60</a></td><td class="td-linebottomrt"><pre>neighbourErrors = repmat(refEr...</pre></td><td class="td-linebottomrt">63504</td><td class="td-linebottomrt">3.746 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line132">132</a></td><td class="td-linebottomrt"><pre>activeTrajInds(activeTrajInds ...</pre></td><td class="td-linebottomrt">406196</td><td class="td-linebottomrt">3.557 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line147">147</a></td><td class="td-linebottomrt"><pre>end</pre></td><td class="td-linebottomrt">405139</td><td class="td-linebottomrt">3.244 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">18.695 s</td><td class="td-linebottomrt">19.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=19 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">98.500 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file13.html">setdiff</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">342485</td><td class="td-linebottomrt">57.448 s</td><td class="td-linebottomrt">58.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=58 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file7.html">repmat</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">63504</td><td class="td-linebottomrt">2.557 s</td><td class="td-linebottomrt">2.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file1.html">...dow>TrajectoryWindow.TrajectoryWindow</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">1.092 s</td><td class="td-linebottomrt">1.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file4.html">Pixel>Pixel.Pixel</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">146</td><td class="td-linebottomrt">0.113 s</td><td class="td-linebottomrt">0.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file14.html">num2str</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">13</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file6.html">int2str</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">15</td><td class="td-linebottomrt">0.001 s</td><td class="td-linebottomrt">0.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">37.279 s</td><td class="td-linebottomrt">37.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files\MATLAB\R2012b\toolbox\matlab\codetools\private\one-pixel.gif" width=38 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">98.500 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line25">25</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'neighbours' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line138">138</a></td><td class="td-linebottomrt"><span class="mono">The variable 'stopIndices' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line143">143</a></td><td class="td-linebottomrt"><span class="mono">The variable 'activeTrajInds' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line144">144</a></td><td class="td-linebottomrt"><span class="mono">The variable 'activeCheckedTrajInds' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">192</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">50</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">142</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">139</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">3</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">97.89 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [objects] = FindObjects(video, windowSize)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%FindObjects Computes temporally coherent objects from a given video and</span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%windowSize</span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">   5</span> <span style="color: #000000; background: #FFFFFF;">objects = []; </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">   6</span> <span style="color: #000000; background: #FFFFFF;">video = double(video); </span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">   8</span> <span style="color: #000000; background: #FFFFFF;">if (any(~mod(windowSize,2))) </span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #A0A0A0; background: #FFFFFF;">    disp('Even dimension for window is not allowed');</span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #A0A0A0; background: #FFFFFF;">    return;</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  1.09 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  13</span> <span style="color: #000000; background: #FFFFFF;">traj = TrajectoryWindow(windowSize); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  14</span> <span style="color: #000000; background: #FFFFFF;">vidSz = size(video); </span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  16</span> <span style="color: #000000; background: #FFFFFF;">halfWin = floor(windowSize/2); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  17</span> <span style="color: #000000; background: #FFFFFF;">trajIndexLength = windowSize(1)*windowSize(2); </span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  19</span> <span style="color: #000000; background: #FFFFFF;">pixelMapSize = vidSz - (2*halfWin); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  20</span> <span style="color: #000000; background: #FFFFFF;">pixelMap(pixelMapSize(1), pixelMapSize(2), pixelMapSize(3)) = Pixel(); </span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">% Column-wise</span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">% Pixel map column size</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  24</span> <span style="color: #000000; background: #FFFFFF;">M = pixelMapSize(1); </span><br/><a name="Line25"></a><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  25</span> <span style="color: #000000; background: #FFFFFF;">neighbours = [(-M-1), -M, (-M+1), -1, 1, (M-1), M, (M+1)]; </span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">% Window column size</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  28</span> <span style="color: #000000; background: #FFFFFF;">N = windowSize(1); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  29</span> <span style="color: #000000; background: #FFFFFF;">windowNeighbours = [(-N-1), -N, (-N+1), -1, 1, (N-1), N, (N+1)]; </span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">% Loop time</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  32</span> <span style="color: #000000; background: #FFFFFF;">totTime = <a href="file6.html">int2str</a>(pixelMapSize(3)); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  33</span> <span style="color: #000000; background: #FFFFFF;">totX = <a href="file6.html">int2str</a>(pixelMapSize(2)); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  34</span> <span style="color: #000000; background: #FFFFFF;">index = 0; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  35</span> <span style="color: #000000; background: #FFFFFF;">for t = (1+halfWin(3)):(vidSz(3)-halfWin(3)) </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  36</span> <span style="color: #000000; background: #FFFFFF;">    disp(horzcat('At Time: ', <a href="file6.html">int2str</a>(t-halfWin(3)), ' of ', totTime)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  37</span> <span style="color: #000000; background: #FFFFFF;">    timeT = cputime; </span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">    % Loop x</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">  40</span> <span style="color: #000000; background: #FFFFFF;">    for x = (1+halfWin(2)):(vidSz(2)-halfWin(2)) </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold">  41</span> <span style="color: #000000; background: #FFFFFF;">        disp(horzcat('At X: ', <a href="file6.html">int2str</a>(x-halfWin(2)), ' of ', totX)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold">  42</span> <span style="color: #000000; background: #FFFFFF;">        timeX = cputime; </span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">        % Loop y</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold">  45</span> <span style="color: #000000; background: #FFFFFF;">        for y = (1+halfWin(1)):(vidSz(1)-halfWin(1)) </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  46</span> <span style="color: #000000; background: #FFFFFF;">            index = index + 1; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  47</span> <span style="color: #000000; background: #FFFFFF;">            vidCube = video((y-halfWin(1)):(y+halfWin(1)), (x-halfWin(2)):(x+halfWin(2)), (t-halfWin(3)):(t+halfWin(3))); </span><br/><span style="color: #FF0000">  0.13 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  48</span> <span style="color: #000000; background: #FFFFFF;">            pixel = Pixel(windowSize(1:2)); </span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  50</span> <span style="color: #000000; background: #FFFFFF;">            for i = 1:trajIndexLength </span><br/><span style="color: #FF0000">  0.36 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  51</span> <span style="color: #000000; background: #FFFFFF;">                trajVals = vidCube(traj.Indices(i,:)); </span><br/><span style="color: #FF0000">  0.15 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  52</span> <span style="color: #000000; background: #FFFFFF;">                pixelVal = vidCube(traj.PixelIndex); </span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">                % To allow log(ErrorMap) (1 +)</span><br/><span style="color: #FF0000">  2.71 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  55</span> <span style="color: #000000; background: #FFFFFF;">                pixel.ErrorMap(i) = 1 + sum(bsxfun(@power, bsxfun(@minus, trajVals, pixelVal), 2)); </span><br/><span style="color: #FF0000">  0.28 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  56</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  58</span> <span style="color: #000000; background: #FFFFFF;">            for i = 1:trajIndexLength </span><br/><span style="color: #FF0000">  0.14 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  59</span> <span style="color: #000000; background: #FFFFFF;">                refError = pixel.ErrorMap(i); </span><br/><span style="color: #FF0000">  3.75 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  60</span> <a name="Line60"></a><span style="color: #000000; background: #FFFFFF;">                neighbourErrors = <a href="file7.html">repmat</a>(refError, 1, 8); </span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">                % refer code/{TempCoherWindow:ComputeGradients, MyObject:ComputeMask}</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">                % changed grads to be column-wise to keep consistent with matlab</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold">  64</span> <span style="color: #000000; background: #FFFFFF;">                if (i &lt;= N) % Left </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   3024 </span><span style="color: #000000; font-weight: bold">  65</span> <span style="color: #000000; background: #FFFFFF;">                    if (mod(i, N) == 1) % Top </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  66</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  67</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  68</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(8) = pixel.ErrorMap(i+windowNeighbours(8)); </span><br/>       <span style="color: #0000FF">   2880 </span><span style="color: #000000; font-weight: bold">  69</span> <span style="color: #000000; background: #FFFFFF;">                    elseif (mod(i, N) == 0) % Bottom </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  70</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  71</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(6) = pixel.ErrorMap(i+windowNeighbours(6)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  72</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/>       <span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  73</span> <span style="color: #228B22; background: #FFFFFF;">                    else % Middle </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  74</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  75</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  76</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(6) = pixel.ErrorMap(i+windowNeighbours(6)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  77</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  78</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(8) = pixel.ErrorMap(i+windowNeighbours(8)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  79</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  60480 </span><span style="color: #000000; font-weight: bold">  80</span> <span style="color: #000000; background: #FFFFFF;">                elseif (i &gt; trajIndexLength - N) % Right </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   3024 </span><span style="color: #000000; font-weight: bold">  81</span> <span style="color: #000000; background: #FFFFFF;">                    if (mod(i, N) == 1) % Top </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  82</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(3) = pixel.ErrorMap(i+windowNeighbours(3)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  84</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/>       <span style="color: #0000FF">   2880 </span><span style="color: #000000; font-weight: bold">  85</span> <span style="color: #000000; background: #FFFFFF;">                    elseif (mod(i, N) == 0) % Bottom </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  86</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(1) = pixel.ErrorMap(i+windowNeighbours(1)); </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  87</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold">  88</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  89</span> <span style="color: #228B22; background: #FFFFFF;">                    else % Middle </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  90</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(1) = pixel.ErrorMap(i+windowNeighbours(1)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  91</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  92</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(3) = pixel.ErrorMap(i+windowNeighbours(3)); </span><br/>       <span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  93</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/>       <span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  94</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  95</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  57456 </span><span style="color: #000000; font-weight: bold">  96</span> <span style="color: #228B22; background: #FFFFFF;">                else % Middle </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  57456 </span><span style="color: #000000; font-weight: bold">  97</span> <span style="color: #000000; background: #FFFFFF;">                    if (mod(i, N) == 1) % Top </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  98</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold">  99</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(3) = pixel.ErrorMap(i+windowNeighbours(3)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 100</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 101</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 102</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(8) = pixel.ErrorMap(i+windowNeighbours(8)); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  54720 </span><span style="color: #000000; font-weight: bold"> 103</span> <span style="color: #000000; background: #FFFFFF;">                    elseif (mod(i, N) == 0) % Bottom </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 104</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(1) = pixel.ErrorMap(i+windowNeighbours(1)); </span><br/>       <span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 105</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/>       <span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 106</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 107</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(6) = pixel.ErrorMap(i+windowNeighbours(6)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">   2736 </span><span style="color: #000000; font-weight: bold"> 108</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 109</span> <span style="color: #228B22; background: #FFFFFF;">                    else % Middle </span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 110</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(1) = pixel.ErrorMap(i+windowNeighbours(1)); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 111</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(2) = pixel.ErrorMap(i+windowNeighbours(2)); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 112</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(3) = pixel.ErrorMap(i+windowNeighbours(3)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 113</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(4) = pixel.ErrorMap(i+windowNeighbours(4)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 114</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(5) = pixel.ErrorMap(i+windowNeighbours(5)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 115</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(6) = pixel.ErrorMap(i+windowNeighbours(6)); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 116</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(7) = pixel.ErrorMap(i+windowNeighbours(7)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 117</span> <span style="color: #000000; background: #FFFFFF;">                        neighbourErrors(8) = pixel.ErrorMap(i+windowNeighbours(8)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  51984 </span><span style="color: #000000; font-weight: bold"> 118</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/><span style="color: #FF0000">  0.09 </span><span style="color: #0000FF">  57456 </span><span style="color: #000000; font-weight: bold"> 119</span> <span style="color: #000000; background: #FFFFFF;">                end </span><br/>               <span style="color: #A0A0A0"> 120</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/><span style="color: #FF0000">  3.00 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 121</span> <span style="color: #000000; background: #FFFFFF;">                pixel.GradientMap(i).GradArray = bsxfun(@minus, neighbourErrors, refError); </span><br/><span style="color: #FF0000">  0.27 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 122</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 124</span> <span style="color: #000000; background: #FFFFFF;">            for i = 1:trajIndexLength </span><br/><span style="color: #FF0000">  0.13 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 125</span> <span style="color: #000000; background: #FFFFFF;">                stopIndices = i; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 126</span> <span style="color: #000000; background: #FFFFFF;">                activeTrajInds = i; </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 127</span> <span style="color: #000000; background: #FFFFFF;">                activeCheckedTrajInds = i; </span><br/>               <span style="color: #A0A0A0"> 128</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/><span style="color: #FF0000">  0.21 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 129</span> <span style="color: #000000; background: #FFFFFF;">                while ~isempty(activeTrajInds) </span><br/><span style="color: #FF0000">  0.70 </span><span style="color: #0000FF"> 405139 </span><span style="color: #000000; font-weight: bold"> 130</span> <span style="color: #000000; background: #FFFFFF;">                    loop_active_traj = activeTrajInds; </span><br/><span style="color: #FF0000">  0.80 </span><span style="color: #0000FF"> 405139 </span><span style="color: #000000; font-weight: bold"> 131</span> <span style="color: #000000; background: #FFFFFF;">                    for ind = loop_active_traj; </span><br/><span style="color: #FF0000">  3.56 </span><span style="color: #0000FF"> 406196 </span><span style="color: #000000; font-weight: bold"> 132</span> <a name="Line132"></a><span style="color: #000000; background: #FFFFFF;">                        activeTrajInds(activeTrajInds == ind) = []; </span><br/>               <span style="color: #A0A0A0"> 133</span> <span style="color: #228B22; background: #FFFFFF;">                        </span><br/><span style="color: #FF0000">  2.69 </span><span style="color: #0000FF"> 406196 </span><span style="color: #000000; font-weight: bold"> 134</span> <span style="color: #000000; background: #FFFFFF;">                        minGrad = min(pixel.GradientMap(ind).GradArray); </span><br/><span style="color: #FF0000">  1.61 </span><span style="color: #0000FF"> 406196 </span><span style="color: #000000; font-weight: bold"> 135</span> <span style="color: #000000; background: #FFFFFF;">                        minGradInds = pixel.GradientMap(ind).GradArray == minGrad; </span><br/>               <span style="color: #A0A0A0"> 136</span> <span style="color: #228B22; background: #FFFFFF;">                        </span><br/><span style="color: #FF0000">  0.12 </span><span style="color: #0000FF"> 406196 </span><span style="color: #000000; font-weight: bold"> 137</span> <span style="color: #000000; background: #FFFFFF;">                        if (minGrad &gt;= 0) </span><br/><a name="Line138"></a><span style="color: #FF0000">  0.42 </span><span style="color: #0000FF">  63711 </span><span style="color: #000000; font-weight: bold"> 138</span> <span style="color: #000000; background: #FFFFFF;">                            stopIndices = [stopIndices ind]; </span><br/>               <span style="color: #A0A0A0"> 139</span> <span style="color: #228B22; background: #FFFFFF;">                            %pixel.StopCountMap(ind) = pixel.StopCountMap(ind) + 1;</span><br/><span style="color: #FF0000">  0.06 </span><span style="color: #0000FF"> 342485 </span><span style="color: #000000; font-weight: bold"> 140</span> <span style="color: #228B22; background: #FFFFFF;">                        else </span><br/>               <span style="color: #A0A0A0"> 141</span> <span style="color: #228B22; background: #FFFFFF;">                            %C = setdiff(A,B) returns the data in A that is not in B.</span><br/><span style="color: #FF0000">  8.34 </span><span style="color: #0000FF"> 342485 </span><span style="color: #000000; font-weight: bold"> 142</span> <a name="Line142"></a><span style="color: #000000; background: #FFF0F0;">                            newInds = bsxfun(@plus, ind, windowNeighbours(minGradInds)); </span><br/><a name="Line143"></a><span style="color: #FF0000"> 60.92 </span><span style="color: #0000FF"> 342485 </span><span style="color: #000000; font-weight: bold"> 143</span> <a name="Line143"></a><span style="color: #000000; background: #FF8080;">                            activeTrajInds = [activeTrajInds <a href="file13.html">setdiff</a>(newInds, activeCheckedTrajInds)]; </span><br/><a name="Line144"></a><span style="color: #FF0000">  1.87 </span><span style="color: #0000FF"> 342485 </span><span style="color: #000000; font-weight: bold"> 144</span> <span style="color: #000000; background: #FFFFFF;">                            activeCheckedTrajInds = [activeCheckedTrajInds activeTrajInds]; </span><br/><span style="color: #FF0000">  0.13 </span><span style="color: #0000FF"> 342485 </span><span style="color: #000000; font-weight: bold"> 145</span> <span style="color: #000000; background: #FFFFFF;">                        end </span><br/><span style="color: #FF0000">  0.36 </span><span style="color: #0000FF"> 406196 </span><span style="color: #000000; font-weight: bold"> 146</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/><span style="color: #FF0000">  3.24 </span><span style="color: #0000FF"> 405139 </span><span style="color: #000000; font-weight: bold"> 147</span> <a name="Line147"></a><span style="color: #000000; background: #FFFFFF;">                end </span><br/>               <span style="color: #A0A0A0"> 148</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/><span style="color: #FF0000">  0.12 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 149</span> <span style="color: #000000; background: #FFFFFF;">                minError = pixel.ErrorMap(stopIndices(1)); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 150</span> <span style="color: #000000; background: #FFFFFF;">                minTrajectoryErrorInd = 1; </span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 151</span> <span style="color: #000000; background: #FFFFFF;">                for j = 2:size(stopIndices, 2) </span><br/><span style="color: #FF0000">  0.05 </span><span style="color: #0000FF">  63711 </span><span style="color: #000000; font-weight: bold"> 152</span> <span style="color: #000000; background: #FFFFFF;">                    if (pixel.ErrorMap(stopIndices(j)) &lt; minError) </span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">  62232 </span><span style="color: #000000; font-weight: bold"> 153</span> <span style="color: #000000; background: #FFFFFF;">                        minError = pixel.ErrorMap(stopIndices(j)); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  62232 </span><span style="color: #000000; font-weight: bold"> 154</span> <span style="color: #000000; background: #FFFFFF;">                        minTrajectoryErrorInd = j; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  62232 </span><span style="color: #000000; font-weight: bold"> 155</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  63711 </span><span style="color: #000000; font-weight: bold"> 156</span> <span style="color: #000000; background: #FFFFFF;">                end </span><br/>               <span style="color: #A0A0A0"> 157</span> <span style="color: #228B22; background: #FFFFFF;">                </span><br/>               <span style="color: #A0A0A0"> 158</span> <span style="color: #228B22; background: #FFFFFF;">                %pixel.MostLikelyTrajectory = trajectoryErrors(minTrajectoryErrorInd);</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 159</span> <span style="color: #000000; background: #FFFFFF;">                stopIndex = stopIndices(minTrajectoryErrorInd); </span><br/><span style="color: #FF0000">  0.23 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #000000; background: #FFFFFF;">                pixel.StopCountMap(stopIndex) =  pixel.StopCountMap(stopIndex) + 1; </span><br/><span style="color: #FF0000">  0.21 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 161</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/>               <span style="color: #A0A0A0"> 162</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 163</span> <span style="color: #000000; background: #FFFFFF;">            maxStopCount = 0; </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 164</span> <span style="color: #000000; background: #FFFFFF;">            maxStopCountIndex = 0; </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 165</span> <span style="color: #000000; background: #FFFFFF;">            for i = 1:trajIndexLength </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 166</span> <span style="color: #000000; background: #FFFFFF;">                if (pixel.StopCountMap(i) &gt; maxStopCount) </span><br/>       <span style="color: #0000FF">    481 </span><span style="color: #000000; font-weight: bold"> 167</span> <span style="color: #000000; background: #FFFFFF;">                    maxStopCount = pixel.StopCountMap(i); </span><br/>       <span style="color: #0000FF">    481 </span><span style="color: #000000; font-weight: bold"> 168</span> <span style="color: #000000; background: #FFFFFF;">                    maxStopCountIndex = i; </span><br/>       <span style="color: #0000FF">    481 </span><span style="color: #000000; font-weight: bold"> 169</span> <span style="color: #000000; background: #FFFFFF;">                end </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">  63504 </span><span style="color: #000000; font-weight: bold"> 170</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/>               <span style="color: #A0A0A0"> 171</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/>       <span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 172</span> <span style="color: #000000; background: #FFFFFF;">            pixel.MostLikelyTrajectoryIndex = maxStopCountIndex; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 173</span> <span style="color: #000000; background: #FFFFFF;">            pixelMap(index) = pixel; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    144 </span><span style="color: #000000; font-weight: bold"> 174</span> <span style="color: #000000; background: #FFFFFF;">        end % y </span><br/>               <span style="color: #A0A0A0"> 175</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 176</span> <span style="color: #000000; background: #FFFFFF;">        disp(horzcat('1 loop X: ', <a href="file14.html">num2str</a>(cputime - timeX, '%0.2f'), 's')); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 177</span> <span style="color: #000000; background: #FFFFFF;">    end % x </span><br/>               <span style="color: #A0A0A0"> 178</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>               <span style="color: #A0A0A0"> 179</span> <span style="color: #228B22; background: #FFFFFF;">    % Will want to tweak this/come up with a better way</span><br/>               <span style="color: #A0A0A0"> 180</span> <span style="color: #228B22; background: #FFFFFF;">%     thresholdCount = trajIndexLength * 0.9;</span><br/>               <span style="color: #A0A0A0"> 181</span> <span style="color: #228B22; background: #FFFFFF;">%     seeds = [];</span><br/>               <span style="color: #A0A0A0"> 182</span> <span style="color: #228B22; background: #FFFFFF;">%     for i = (t-halfWin(3)-1)*pixelMapSize(1)*pixelMapSize(2) + 1:(t-halfWin(3))*pixelMapSize(1)*pixelMapSize(2)</span><br/>               <span style="color: #A0A0A0"> 183</span> <span style="color: #228B22; background: #FFFFFF;">%         if (pixelMap(i).StopCountMap((pixelMap(i).MostLikelyTrajectoryIndex)) &gt; thresholdCount)</span><br/>               <span style="color: #A0A0A0"> 184</span> <span style="color: #228B22; background: #FFFFFF;">%             seeds = [seeds i];</span><br/>               <span style="color: #A0A0A0"> 185</span> <span style="color: #228B22; background: #FFFFFF;">%         end</span><br/>               <span style="color: #A0A0A0"> 186</span> <span style="color: #228B22; background: #FFFFFF;">%     end</span><br/>               <span style="color: #A0A0A0"> 187</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 188</span> <span style="color: #000000; background: #FFFFFF;">    disp(horzcat('1 loop of T: ', <a href="file14.html">num2str</a>(cputime - timeT, '%0.2f'), 's')); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 189</span> <span style="color: #000000; background: #FFFFFF;">end % t </span><br/>               <span style="color: #A0A0A0"> 190</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 191</span> <span style="color: #000000; background: #FFFFFF;">objects = pixelMap; </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"> 192</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>